{"version":3,"sources":["webpack:///./src/views/admin/AdminOrders.vue","webpack:///./src/components/AdminOrderModal.vue","webpack:///./src/components/AdminOrderModal.vue?d9a7","webpack:///./src/components/DelOrdersModal.vue","webpack:///./src/components/DelOrdersModal.vue?4277","webpack:///./src/components/DelAllOrdersModal.vue","webpack:///./src/components/DelAllOrdersModal.vue?5498","webpack:///./src/views/admin/AdminOrders.vue?0e79","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","width","colspan","page","pagination","getOrder","orders","item","key","id","$filters","date","create_at","user","name","email","tel","address","currency","total","is_paid","type","openModal","loadingStatus","loadingItem","disabled","ref","props-order","tempOrder","updateOrder","deleteOrder","deleteAllOrders","tabindex","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","style","for","products","src","product","imageUrl","alt","title","category","qty","unit","price","paid_date","value","paidTime","$emit","emits","props","propsOrder","Object","default","data","modal","methods","this","Math","floor","Date","now","watch","mixins","modalMixin","render","components","Pagination","AdminOrderModal","DelOrdersModal","DelAllOrders","showAlert","res","$swal","message","num","current_page","url","$http","get","then","success","console","log","catch","error","delete","$refs","adminDelModal","closeModal","adminAllOrderDelModal","inOrder","clear","adminModal","temp","put","mounted","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match"],"mappings":"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","file":"js/chunk-dfd9a15a.2fa0c976.js","sourcesContent":["<template>\r\n  <div class=\"container content\">\r\n    <h2 class=\"text-center\">訂單列表</h2>\r\n    <div class=\"d-flex justify-content-center mt-5\">\r\n      <Pagination :page=\"pagination\" @get-page=\"getOrder\"></Pagination>\r\n    </div>\r\n    <!-- 訂單列表 -->\r\n    <table class=\"table align-middle mt-4\">\r\n      <thead>\r\n        <tr>\r\n          <th width=\"8%\">訂單日期</th>\r\n          <th width=\"9%\">客戶姓名</th>\r\n          <th width=\"10%\">客戶信箱</th>\r\n          <th width=\"10%\">客戶電話</th>\r\n          <th width=\"18%\">客戶地址</th>\r\n          <th width=\"11%\">訂單總價</th>\r\n          <th class=\"text-end\" width=\"9%\">付款狀態</th>\r\n          <th width=\"12%\"></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr class=\"align-middle\" v-for=\"item in orders\" :key=\"item.id\">\r\n          <td>{{ $filters.date(item.create_at) }}</td>\r\n          <td>{{ item.user.name }}</td>\r\n          <td>{{ item.user.email }}</td>\r\n          <td>{{ item.user.tel }}</td>\r\n          <td>{{ item.user.address }}</td>\r\n          <td>\r\n            <div class=\"h5\">{{ $filters.currency(item.total) }} 元</div>\r\n          </td>\r\n          <td class=\"text-end\">\r\n            <strong v-if=\"item.is_paid\" class=\"text-success\">已付款</strong>\r\n            <span v-else class=\"text-muted\">未付款</span>\r\n          </td>\r\n          <td class=\"text-end\">\r\n            <div class=\"btn-group\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-outline-primary btn-sm\"\r\n                @click=\"openModal('edit', item)\"\r\n              >\r\n                編輯\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-outline-danger btn-sm\"\r\n                @click=\"openModal('delete', item)\"\r\n              >\r\n                <span\r\n                  v-if=\"loadingStatus.loadingItem === item.id\"\r\n                  class=\"material-icons animate-spin\"\r\n                >\r\n                  cached\r\n                </span>\r\n                刪除\r\n              </button>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n      <tfoot>\r\n        <tr>\r\n          <td colspan=\"8\" class=\"text-end\">\r\n            <button\r\n              class=\"btn btn-outline-danger\"\r\n              type=\"button\"\r\n              @click=\"openModal('deleteall', item)\"\r\n              :disabled=\"orders <= 1\"\r\n            >\r\n              <span\r\n                v-if=\"loadingStatus.loadingItem === 1\"\r\n                class=\"material-icons animate-spin\"\r\n              >\r\n                cached\r\n              </span>\r\n              刪除所有訂單\r\n            </button>\r\n          </td>\r\n        </tr>\r\n      </tfoot>\r\n    </table>\r\n    <div class=\"d-flex justify-content-center mt-5\">\r\n      <Pagination :page=\"pagination\" @get-page=\"getOrder\"></Pagination>\r\n    </div>\r\n\r\n    <!-- Modal -->\r\n    <AdminOrderModal\r\n      ref=\"adminModal\"\r\n      :props-order=\"tempOrder\"\r\n      @update-order=\"updateOrder\"\r\n    ></AdminOrderModal>\r\n    <!-- 刪除按鈕彈出 Modal -->\r\n    <DelOrdersModal\r\n      ref=\"adminDelModal\"\r\n      :props-order=\"tempOrder\"\r\n      @delete-orders=\"deleteOrder\"\r\n    ></DelOrdersModal>\r\n    <DelAllOrders\r\n      ref=\"adminAllOrderDelModal\"\r\n      @delete-all-orders=\"deleteAllOrders\"\r\n    ></DelAllOrders>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Pagination from \"@/components/Pagination.vue\";\r\nimport AdminOrderModal from \"@/components/AdminOrderModal.vue\";\r\nimport DelOrdersModal from \"@/components/DelOrdersModal.vue\";\r\nimport DelAllOrders from \"@/components/DelAllOrdersModal.vue\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      loadingStatus: {\r\n        loadingItem: \"\",\r\n      },\r\n      orders: {},\r\n      pagination: {},\r\n      tempOrder: {},\r\n    };\r\n  },\r\n  components: {\r\n    Pagination,\r\n    AdminOrderModal,\r\n    DelOrdersModal,\r\n    DelAllOrders,\r\n  },\r\n  methods: {\r\n    showAlert(res) {\r\n      this.$swal(res.data.message);\r\n    },\r\n    getOrder(num = this.pagination.current_page || 1) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${num};`;\r\n      this.$http\r\n        .get(url)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            const { orders, pagination } = res.data;\r\n            this.orders = orders;\r\n            this.pagination = pagination;\r\n            console.log(this.orders);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    deleteOrder(item) {\r\n      this.loadingStatus.loadingItem = item.id;\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`;\r\n      this.$http\r\n        .delete(url)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.loadingStatus.loadingItem = \"\";\r\n            this.$refs.adminDelModal.closeModal();\r\n            this.showAlert(res);\r\n            this.getOrder();\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    deleteAllOrders() {\r\n      this.loadingStatus.loadingItem = 1;\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders/all`;\r\n      this.$http\r\n        .delete(url)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.loadingStatus.loadingItem = \"\";\r\n            this.$refs.adminAllOrderDelModal.closeModal();\r\n            this.showAlert(res);\r\n            this.getOrder();\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    openModal(inOrder, item) {\r\n      switch (inOrder) {\r\n        case \"edit\":\r\n          // 因為傳參考特性會連動到資料，因此將資料進行淺層複製\r\n          this.getOrder();\r\n          this.tempOrder = { ...item };\r\n          console.clear();\r\n          console.log(this.tempOrder);\r\n          this.$refs.adminModal.openModal();\r\n          break;\r\n        case \"delete\":\r\n          // 因為傳參考特性會連動到資料，因此將資料進行淺層複製\r\n          this.tempOrder = { ...item };\r\n          // Modal需要拿到 title 和刪除按鈕時需要獲得 id\r\n          this.$refs.adminDelModal.openModal();\r\n          break;\r\n        case \"deleteall\":\r\n          this.$refs.adminAllOrderDelModal.openModal();\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    },\r\n    // 於modal內按下確認按鈕時觸發\r\n    updateOrder(temp) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${temp.id}`;\r\n      this.$http\r\n        .put(url, { data: temp }) // post 或 put\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.$refs.adminModal.closeModal(); // 關掉 modal\r\n            this.getOrder(); // 重整畫面\r\n          } else {\r\n            this.showAlert(res);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n  },\r\n  mounted() {\r\n    console.clear();\r\n    this.getOrder();\r\n  },\r\n};\r\n</script>\r\n","<template>\r\n  <div\r\n    class=\"modal fade\"\r\n    ref=\"modal\"\r\n    tabindex=\"-1\"\r\n    aria-labelledby=\"customerOrderModalLabel\"\r\n    aria-hidden=\"true\"\r\n  >\r\n    <div class=\"modal-dialog modal-xl modal-dialog-centered\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-primary text-white\">\r\n          <h3 id=\"customerOrderModalLabel\" class=\"modal-title\">\r\n            <span>修改客戶訂單內容</span>\r\n          </h3>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <h3 class=\"text-primary\">選購商品</h3>\r\n          <div class=\"px-3\">\r\n            <table class=\"table align-middle\">\r\n              <thead>\r\n                <tr>\r\n                  <th>縮圖</th>\r\n                  <th>品名</th>\r\n                  <th>類別</th>\r\n                  <th>數量</th>\r\n                  <th class=\"text-end\">單價</th>\r\n                  <th class=\"text-end\">合計</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\r\n                  <th>\r\n                    <img\r\n                      class=\"product-img\"\r\n                      :src=\"item.product.imageUrl\"\r\n                      :alt=\"item.product.title\"\r\n                    />\r\n                  </th>\r\n                  <th>\r\n                    {{ item.product.title }}\r\n                  </th>\r\n                  <th>\r\n                    {{ item.product.category }}\r\n                  </th>\r\n                  <td>{{ item.qty }} / {{ item.product.unit }}</td>\r\n                  <td class=\"text-end\">\r\n                    {{ $filters.currency(item.product.price) }}\r\n                  </td>\r\n                  <td class=\"text-end\">\r\n                    {{ $filters.currency(item.qty * item.product.price) }}\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div class=\"col-md-4\">\r\n              <h3 class=\"text-primary\">用戶資料</h3>\r\n              <table class=\"table\">\r\n                <tbody v-if=\"tempOrder.user\">\r\n                  <tr>\r\n                    <th style=\"width: 100px\">姓名</th>\r\n                    <td>{{ tempOrder.user.name }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Email</th>\r\n                    <td>{{ tempOrder.user.email }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>電話</th>\r\n                    <td>{{ tempOrder.user.tel }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>地址</th>\r\n                    <td>{{ tempOrder.user.address }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div class=\"col-md-8\">\r\n              <h3 class=\"text-primary\">訂單細節</h3>\r\n              <table class=\"table\">\r\n                <tbody>\r\n                  <tr>\r\n                    <th style=\"width: 100px\">訂單編號</th>\r\n                    <td>{{ tempOrder.id }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>下單時間</th>\r\n                    <td>{{ $filters.date(tempOrder.create_at) }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>付款時間</th>\r\n                    <td>\r\n                      <span v-if=\"tempOrder.paid_date\">\r\n                        {{ $filters.date(tempOrder.paid_date) }}\r\n                      </span>\r\n                      <span v-else>尚無資訊</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>付款狀態</th>\r\n                    <td>\r\n                      <strong v-if=\"tempOrder.is_paid\" class=\"text-success\"\r\n                        >已付款</strong\r\n                      >\r\n                      <span v-else class=\"text-muted\">尚未付款</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>總金額</th>\r\n                    <td>{{ $filters.currency(tempOrder.total) }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n\r\n            <div class=\"d-flex justify-content-end\">\r\n              <div class=\"form-check\">\r\n                <input\r\n                  class=\"form-check-input\"\r\n                  type=\"checkbox\"\r\n                  value=\"\"\r\n                  id=\"flexCheckDefault\"\r\n                  v-model=\"tempOrder.is_paid\"\r\n                  @click=\"paidTime()\"\r\n                />\r\n                <label class=\"form-check-label\" for=\"flexCheckDefault\">\r\n                  <span v-if=\"tempOrder.is_paid\">已付款</span>\r\n                  <span v-else>未付款</span>\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-outline-secondary\"\r\n            data-bs-dismiss=\"modal\"\r\n          >\r\n            取消\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-primary\"\r\n            @click=\"$emit('update-order', tempOrder)\"\r\n          >\r\n            確認\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport modalMixin from \"@/assets/js/mixins/modalMixin\";\r\n\r\nexport default {\r\n  emits: [\"update-order\"],\r\n  props: {\r\n    propsOrder: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      modal: \"\",\r\n      tempOrder: {},\r\n    };\r\n  },\r\n  methods: {\r\n    paidTime() {\r\n      if (this.tempOrder.paid_date) {\r\n        this.tempOrder.paid_date = '';\r\n      } else {\r\n        this.tempOrder.paid_date = Math.floor(Date.now()/1000);\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    propsOrder() {\r\n      this.tempOrder = this.propsOrder;\r\n    },\r\n  },\r\n  mixins: [modalMixin],\r\n};\r\n</script>\r\n","import { render } from \"./AdminOrderModal.vue?vue&type=template&id=1676834f\"\nimport script from \"./AdminOrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./AdminOrderModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n  <div\r\n    id=\"delOrderModal\"\r\n    ref=\"modal\"\r\n    class=\"modal fade\"\r\n    tabindex=\"-1\"\r\n    aria-labelledby=\"delOrderModalLabel\"\r\n    aria-hidden=\"true\"\r\n  >\r\n    <div class=\"modal-dialog modal-dialog-centered\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-danger text-white\">\r\n          <h3 id=\"delOrderModalLabel\" class=\"modal-title\">\r\n            <span>刪除單筆訂單</span>\r\n          </h3>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div v-if=\"propsOrder.id\" class=\"modal-body\">\r\n          是否刪除\r\n          <strong class=\"text-danger\">{{ propsOrder.user.name }}</strong>\r\n          的訂單(刪除後將無法恢復)。\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-outline-secondary\"\r\n            data-bs-dismiss=\"modal\"\r\n          >\r\n            取消\r\n          </button>\r\n          <button\r\n            @click=\"$emit('delete-orders', propsOrder)\"\r\n            type=\"button\"\r\n            class=\"btn btn-danger\"\r\n          >\r\n            確認刪除\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport modalMixin from \"@/assets/js/mixins/modalMixin\";\r\nexport default {\r\n  props: {\r\n    propsOrder: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      modal: \"\",\r\n    };\r\n  },\r\n  mixins: [modalMixin],\r\n};\r\n</script>\r\n","import { render } from \"./DelOrdersModal.vue?vue&type=template&id=8a548562\"\nimport script from \"./DelOrdersModal.vue?vue&type=script&lang=js\"\nexport * from \"./DelOrdersModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n  <div\r\n    id=\"delAllOrderModal\"\r\n    ref=\"modal\"\r\n    class=\"modal fade\"\r\n    tabindex=\"-1\"\r\n    aria-labelledby=\"delAllOrderModalLabel\"\r\n    aria-hidden=\"true\"\r\n  >\r\n    <div class=\"modal-dialog modal-dialog-centered\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-danger text-white\">\r\n          <h3 id=\"delAllOrderModalLabel\" class=\"modal-title\">\r\n            <span>刪除全部訂單</span>\r\n          </h3>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body text-center\">\r\n          是否刪除所有訂單<br>\r\n          <strong class=\"text-danger fs-4\">刪除後將無法復原</strong>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-outline-secondary\"\r\n            data-bs-dismiss=\"modal\"\r\n          >\r\n            取消\r\n          </button>\r\n          <button\r\n            @click=\"$emit('delete-all-orders')\"\r\n            type=\"button\"\r\n            class=\"btn btn-danger\"\r\n          >\r\n            確認刪除\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport modalMixin from '@/assets/js/mixins/modalMixin';\r\nexport default {\r\n  data() {\r\n    return {\r\n      modal: \"\",\r\n    };\r\n  },\r\n  mixins: [modalMixin],\r\n};\r\n</script>","import { render } from \"./DelAllOrdersModal.vue?vue&type=template&id=7759bb8f\"\nimport script from \"./DelAllOrdersModal.vue?vue&type=script&lang=js\"\nexport * from \"./DelAllOrdersModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./AdminOrders.vue?vue&type=template&id=ddbc6530\"\nimport script from \"./AdminOrders.vue?vue&type=script&lang=js\"\nexport * from \"./AdminOrders.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}