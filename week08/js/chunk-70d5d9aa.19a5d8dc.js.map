{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/cart/CartOrder.vue","webpack:///./src/views/cart/CartOrder.vue?376a"],"names":["DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","class","src","alt","width","order","products","item","key","product","imageUrl","title","category","qty","$filters","currency","total","user","name","address","email","payment_method","type","payment","loadingStatus","loadingItem","data","methods","showAlert","res","$swal","message","getOrder","id","$route","params","url","$http","then","catch","console","log","post","success","$router","push","mounted","clear","render"],"mappings":"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","file":"js/chunk-70d5d9aa.19a5d8dc.js","sourcesContent":["var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template>\r\n  <h2 class=\"pt-4 text-light\">完成下訂</h2>\r\n  <div class=\"bg-light my-3 my-sm-5 p-4\">\r\n    <figure class=\"mt-0 mb-3 my-sm-5 text-center mx-auto\">\r\n      <img\r\n        class=\"img-fluid\"\r\n        src=\"https://storage.googleapis.com/vue-course-api.appspot.com/leolee/1626638315773.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=NAzscr3NADSvZ5T%2FO1PKZsVwLaMgiErpdNX2PjCqeKouBzWLfyZvcvGPgqyAE%2FP2Kh0TVGbHsgb9oIY6mWd9qk8hB09lQrfHozajWcUm6JZqz%2F0GrOlyR7sR2YTLPj6v2X9A660jp3Xs2qVkfMEGBHSYWUpG2BUzc9%2BE2BiagVh7iV3xrZeZOtmSHQJLjJLZDDQoD7JdFOXQH4Gp3WQjIoOIQ0fkWF1oSo1MVLlCuubgLpTDdGXf3CYTHgnWaJkXKyKgh%2F2Kjd6wa9q7gabCxHQBud6hQ31yf5V%2BYXDrF2xNLAbcM6BwSPHJi8lt%2F0p19uXvyIOhdDU4M6bKw3d59g%3D%3D\"\r\n        alt=\"step4 完成下訂\"\r\n      />\r\n    </figure>\r\n\r\n    <h3 class=\"text-center mb-3\">購買品項</h3>\r\n    <table class=\"p-table table align-middle w-md-50 mx-auto mb-5\">\r\n      <thead class=\"p-table__foot\">\r\n        <tr class=\"text-light\">\r\n          <th width=\"40%\" class=\"text-center fs-7 fs-sm-6\">商品</th>\r\n          <th class=\"p-table__th--num text-center fs-7 fs-sm-6\">數量</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody class=\"p-table__body\">\r\n        <tr v-for=\"item in order.products\" :key=\"item\">\r\n          <td>\r\n            <figure class=\"d-sm-flex align-items-center\">\r\n              <img\r\n                class=\"product-img\"\r\n                :src=\"item.product.imageUrl\"\r\n                :alt=\"item.product.title\"\r\n              />\r\n              <figcaption class=\"ps-2\">\r\n                <span class=\"badge bg-primary\">{{\r\n                  item.product.category\r\n                }}</span>\r\n                <p class=\"fs-7 fs-sm-6\">{{ item.product.title }}</p>\r\n              </figcaption>\r\n            </figure>\r\n          </td>\r\n          <td class=\"text-center\">\r\n            {{ item.qty }}\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n      <tfoot class=\"p-table__head\">\r\n        <tr class=\"text-light\">\r\n          <td class=\"text-end\">總計</td>\r\n          <td class=\"text-center\">{{ $filters.currency(order.total) }} NTD</td>\r\n        </tr>\r\n      </tfoot>\r\n    </table>\r\n\r\n    <h3 class=\"text-center mb-3\">客戶資訊</h3>\r\n    <div class=\"row justify-content-center\">\r\n      <div class=\"col-md-6\" v-if=\"order.user\">\r\n        <dl class=\"goods-detail-description\">\r\n          <dt>姓名</dt>\r\n          <dd>{{ order.user.name }}</dd>\r\n        </dl>\r\n        <dl class=\"goods-detail-description\">\r\n          <dt>寄送地址</dt>\r\n          <dd>{{ order.user.address }}</dd>\r\n        </dl>\r\n        <dl class=\"goods-detail-description\">\r\n          <dt>E-mail信箱</dt>\r\n          <dd class=\"text-break\">{{ order.user.email }}</dd>\r\n        </dl>\r\n        <dl class=\"goods-detail-description\">\r\n          <dt>付款方式</dt>\r\n          <dd>{{ order.user.payment_method }}</dd>\r\n        </dl>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"d-flex justify-content-center my-4\">\r\n      <button type=\"button\" class=\"btn btn-primary\" @click=\"payment()\">\r\n        <span\r\n          v-if=\"loadingStatus.loadingItem === 3\"\r\n          class=\"material-icons animate-spin\"\r\n        >\r\n          cached\r\n        </span>\r\n        結帳付款\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      loadingStatus: {\r\n        loadingItem: \"\",\r\n      },\r\n      order: {},\r\n    };\r\n  },\r\n  methods: {\r\n    showAlert(res) {\r\n      this.$swal(res.data.message);\r\n    },\r\n    getOrder() {\r\n      const id = this.$route.params.id;\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${id}`;\r\n      this.$http\r\n        .get(url)\r\n        .then((res) => {\r\n          this.order = res.data.order;\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    payment() {\r\n      this.loadingStatus.loadingItem = 3;\r\n      const id = this.$route.params.id;\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${id}`;\r\n      this.$http\r\n        .post(url)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.loadingStatus.loadingItem = \"\";\r\n            this.showAlert(res);\r\n            this.$router.push(`/cartcompleted/${id}`);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n  },\r\n  mounted() {\r\n    console.clear();\r\n    this.getOrder();\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./CartOrder.vue?vue&type=template&id=6bc73960\"\nimport script from \"./CartOrder.vue?vue&type=script&lang=js\"\nexport * from \"./CartOrder.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}