(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45756f7a"],{"06c5":function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));r("fb6a"),r("d3b7"),r("b0c0"),r("a630"),r("3ca3");var n=r("6b75");function c(t,e){if(t){if("string"===typeof t)return Object(n["a"])(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n["a"])(t,e):void 0}}},2532:function(t,e,r){"use strict";var n=r("23e7"),c=r("5a34"),o=r("1d80"),a=r("ab13");n({target:"String",proto:!0,forced:!a("includes")},{includes:function(t){return!!~String(o(this)).indexOf(c(t),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,e,r){var n=r("861d"),c=r("c6b6"),o=r("b622"),a=o("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==c(t))}},"466d":function(t,e,r){"use strict";var n=r("d784"),c=r("825a"),o=r("50c4"),a=r("1d80"),i=r("8aa5"),s=r("14c3");n("match",(function(t,e,r){return[function(e){var r=a(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,r):new RegExp(e)[t](String(r))},function(t){var n=r(e,this,t);if(n.done)return n.value;var a=c(this),l=String(t);if(!a.global)return s(a,l);var u=a.unicode;a.lastIndex=0;var d,f=[],h=0;while(null!==(d=s(a,l))){var b=String(d[0]);f[h]=b,""===b&&(a.lastIndex=i(l,o(a.lastIndex),u)),h++}return 0===h?null:f}]}))},"4df4":function(t,e,r){"use strict";var n=r("0366"),c=r("7b0b"),o=r("9bdd"),a=r("e95a"),i=r("50c4"),s=r("8418"),l=r("35a1");t.exports=function(t){var e,r,u,d,f,h,b=c(t),v="function"==typeof this?this:Array,g=arguments.length,p=g>1?arguments[1]:void 0,y=void 0!==p,m=l(b),O=0;if(y&&(p=n(p,g>2?arguments[2]:void 0,2)),void 0==m||v==Array&&a(m))for(e=i(b.length),r=new v(e);e>O;O++)h=y?p(b[O],O):b[O],s(r,O,h);else for(d=m.call(b),f=d.next,r=new v;!(u=f.call(d)).done;O++)h=y?o(d,p,[u.value,O],!0):u.value,s(r,O,h);return r.length=O,r}},"5a34":function(t,e,r){var n=r("44e7");t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},"6b75":function(t,e,r){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r.d(e,"a",(function(){return n}))},"9bdd":function(t,e,r){var n=r("825a"),c=r("2a62");t.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(a){throw c(t),a}}},a434:function(t,e,r){"use strict";var n=r("23e7"),c=r("23cb"),o=r("a691"),a=r("50c4"),i=r("7b0b"),s=r("65f0"),l=r("8418"),u=r("1dde"),d=u("splice"),f=Math.max,h=Math.min,b=9007199254740991,v="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var r,n,u,d,g,p,y=i(this),m=a(y.length),O=c(t,m),j=arguments.length;if(0===j?r=n=0:1===j?(r=0,n=m-O):(r=j-2,n=h(f(o(e),0),m-O)),m+r-n>b)throw TypeError(v);for(u=s(y,n),d=0;d<n;d++)g=O+d,g in y&&l(u,d,y[g]);if(u.length=n,r<n){for(d=O;d<m-n;d++)g=d+n,p=d+r,g in y?y[p]=y[g]:delete y[p];for(d=m;d>m-n+r;d--)delete y[d-1]}else if(r>n)for(d=m-n;d>O;d--)g=d+n-1,p=d+r-1,g in y?y[p]=y[g]:delete y[p];for(d=0;d<r;d++)y[d+O]=arguments[d+2];return y.length=m-n+r,u}})},a630:function(t,e,r){var n=r("23e7"),c=r("4df4"),o=r("1c7e"),a=!o((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:a},{from:c})},ab13:function(t,e,r){var n=r("b622"),c=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[c]=!1,"/./"[t](e)}catch(n){}}return!1}},b0c0:function(t,e,r){var n=r("83ab"),c=r("9bf2").f,o=Function.prototype,a=o.toString,i=/^\s*function ([^ (]*)/,s="name";n&&!(s in o)&&c(o,s,{configurable:!0,get:function(){try{return a.call(this).match(i)[1]}catch(t){return""}}})},caad:function(t,e,r){"use strict";var n=r("23e7"),c=r("4d64").includes,o=r("44d2");n({target:"Array",proto:!0},{includes:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},d28b:function(t,e,r){var n=r("746f");n("iterator")},e6dc:function(t,e,r){"use strict";r.r(e);r("caad"),r("2532");var n=r("7a23"),c={id:"main",class:"container-lg content content-user"},o=Object(n["h"])("h2",{class:"text-center pt-4"},"商品列表",-1),a={class:"mt-4 text-end"},i=Object(n["g"])(" 總共有 "),s={id:"productCount"},l=Object(n["g"])(" 項商品 "),u={class:"row"},d={class:"col-12 col-sm-3"},f={class:"list-group mb-3 mb-sm-0"},h={class:"col-12 col-sm-9"},b={class:"row row-cols-1 row-cols-sm-2 row-cols-lg-3 g-3 list-unstyled"},v={class:"card h-100"},g={class:"card-body"},p={class:"card-title"},y={class:"card-text"},m={class:"\r\n                  card-footer\r\n                  d-flex\r\n                  align-items-center\r\n                  justify-content-between\r\n                  position-relative\r\n                ",style:{"z-index":"50"}},O={key:0,class:"material-icons"},j={key:1,class:"material-icons"},w={key:0,class:"material-icons animate-spin"},x=Object(n["g"])(" 加到購物車 ");function C(t,e,r,C,S,A){var k=Object(n["C"])("Navbar"),F=Object(n["C"])("router-link");return Object(n["v"])(),Object(n["d"])(n["a"],null,[Object(n["h"])("header",null,[Object(n["h"])(k)]),Object(n["h"])("div",c,[o,Object(n["h"])("p",a,[i,Object(n["h"])("span",s,Object(n["F"])(this.filterProducts.length),1),l]),Object(n["h"])("div",u,[Object(n["h"])("div",d,[Object(n["h"])("div",f,[Object(n["h"])("a",{href:"#",class:["list-group-item",{active:""===S.selectCategory}],"aria-current":"true",onClick:e[1]||(e[1]=Object(n["O"])((function(t){return S.selectCategory=""}),["prevent"]))},"所有商品",2),(Object(n["v"])(!0),Object(n["d"])(n["a"],null,Object(n["B"])(S.categories,(function(t){return Object(n["v"])(),Object(n["d"])("a",{href:"#",key:t,class:["list-group-item list-group-item-action",{active:t===S.selectCategory}],"aria-current":"true",onClick:Object(n["O"])((function(e){return S.selectCategory=t}),["prevent"])},Object(n["F"])(t),11,["onClick"])})),128))])]),Object(n["h"])("div",h,[Object(n["h"])("ul",b,[(Object(n["v"])(!0),Object(n["d"])(n["a"],null,Object(n["B"])(A.filterProducts,(function(t){return Object(n["v"])(),Object(n["d"])("li",{key:t,class:"col"},[Object(n["h"])("div",v,[Object(n["h"])(F,{href:"#",to:"/product/".concat(t.id),class:"text-decoration-none stretched-link h-100"},{default:Object(n["M"])((function(){return[Object(n["h"])("img",{src:t.imageUrl,class:"card-img-top",alt:"item.title"},null,8,["src"]),Object(n["h"])("div",g,[Object(n["h"])("h5",p,Object(n["F"])(t.title),1),Object(n["h"])("p",y,Object(n["F"])(t.price)+"NTD",1)])]})),_:2},1032,["to"]),Object(n["h"])("div",m,[Object(n["h"])("a",{href:"#",onClick:Object(n["O"])((function(e){return A.addMyFavorite(t.id)}),["prevent"])},[S.myFavorite.includes(t.id)?(Object(n["v"])(),Object(n["d"])("span",O," star ")):(Object(n["v"])(),Object(n["d"])("span",j," star_border "))],8,["onClick"]),Object(n["h"])("button",{onClick:function(e){return A.addCart(t.id)},type:"button",disabled:S.loadingStatus.loadingItem===t.id+1,class:"btn btn-primary btn-sm"},[S.loadingStatus.loadingItem===t.id+1?(Object(n["v"])(),Object(n["d"])("span",w," cached ")):Object(n["e"])("",!0),x],8,["onClick","disabled"])])])])})),128))])])])])],64)}var S=r("6b75");function A(t){if(Array.isArray(t))return Object(S["a"])(t)}r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("a630");function k(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var F=r("06c5");function I(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(t){return A(t)||k(t)||Object(F["a"])(t)||I()}r("a434"),r("99af"),r("6062"),r("159b"),r("4de4"),r("ac1f"),r("466d");var E=r("d178"),N=r("3d4f"),P={save:function(t){var e=JSON.stringify(t);localStorage.setItem("Favorite",e)},get:function(){return JSON.parse(localStorage.getItem("Favorite"))}},T={props:{propsCategory:{type:Object,default:function(){return{}}}},data:function(){return{loadingStatus:{loadingItem:""},products:[],product:{},cart:{},myFavorite:P.get()||[],categories:[],selectCategory:""}},components:{Navbar:E["a"]},methods:{addMyFavorite:function(t){this.myFavorite.includes(t)?this.myFavorite.splice(this.myFavorite.indexOf(t),1):this.myFavorite.push(t),console.log(this.myFavorite),P.save(this.myFavorite)},showAlert:function(t){this.$swal(t.data.message)},getProducts:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("leolee","/products/all");this.$http.get(e).then((function(e){if(e.data.success){var r=e.data.products;t.products=r,console.log(t.products),t.getCatgories()}})).catch((function(t){console.log(t)}))},addCart:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.loadingStatus.loadingItem=t+1;var n={data:{product_id:t,qty:r}},c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("leolee","/cart");this.$http.post(c,n).then((function(t){e.loadingStatus.loadingItem="",N["a"].emit("update-cart"),e.showAlert(t)})).catch((function(t){console.log(t)}))},getCatgories:function(){var t=new Set;this.products.forEach((function(e){t.add(e.category)})),this.categories=M(t),console.log(this.categories)}},computed:{filterProducts:function(){var t=this;return this.products.filter((function(e){return e.category.match(t.selectCategory)}))}},mounted:function(){console.clear(),this.selectCategory=this.propsCategory,this.getProducts()}};T.render=C;e["default"]=T},fb6a:function(t,e,r){"use strict";var n=r("23e7"),c=r("861d"),o=r("e8b5"),a=r("23cb"),i=r("50c4"),s=r("fc6a"),l=r("8418"),u=r("b622"),d=r("1dde"),f=d("slice"),h=u("species"),b=[].slice,v=Math.max;n({target:"Array",proto:!0,forced:!f},{slice:function(t,e){var r,n,u,d=s(this),f=i(d.length),g=a(t,f),p=a(void 0===e?f:e,f);if(o(d)&&(r=d.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?c(r)&&(r=r[h],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return b.call(d,g,p);for(n=new(void 0===r?Array:r)(v(p-g,0)),u=0;g<p;g++,u++)g in d&&l(n,u,d[g]);return n.length=u,n}})}}]);
//# sourceMappingURL=chunk-45756f7a.ac41ad74.js.map