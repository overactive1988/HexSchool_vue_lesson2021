(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d8030dba"],{"06c5":function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));r("fb6a"),r("d3b7"),r("b0c0"),r("a630"),r("3ca3");var c=r("6b75");function a(t,e){if(t){if("string"===typeof t)return Object(c["a"])(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(c["a"])(t,e):void 0}}},"466d":function(t,e,r){"use strict";var c=r("d784"),a=r("825a"),o=r("50c4"),n=r("1d80"),i=r("8aa5"),s=r("14c3");c("match",(function(t,e,r){return[function(e){var r=n(this),c=void 0==e?void 0:e[t];return void 0!==c?c.call(e,r):new RegExp(e)[t](String(r))},function(t){var c=r(e,this,t);if(c.done)return c.value;var n=a(this),l=String(t);if(!n.global)return s(n,l);var d=n.unicode;n.lastIndex=0;var u,b=[],f=0;while(null!==(u=s(n,l))){var p=String(u[0]);b[f]=p,""===p&&(n.lastIndex=i(l,o(n.lastIndex),d)),f++}return 0===f?null:b}]}))},"4df4":function(t,e,r){"use strict";var c=r("0366"),a=r("7b0b"),o=r("9bdd"),n=r("e95a"),i=r("50c4"),s=r("8418"),l=r("35a1");t.exports=function(t){var e,r,d,u,b,f,p=a(t),h="function"==typeof this?this:Array,g=arguments.length,m=g>1?arguments[1]:void 0,v=void 0!==m,j=l(p),O=0;if(v&&(m=c(m,g>2?arguments[2]:void 0,2)),void 0==j||h==Array&&n(j))for(e=i(p.length),r=new h(e);e>O;O++)f=v?m(p[O],O):p[O],s(r,O,f);else for(u=j.call(p),b=u.next,r=new h;!(d=b.call(u)).done;O++)f=v?o(u,m,[d.value,O],!0):d.value,s(r,O,f);return r.length=O,r}},"6b75":function(t,e,r){"use strict";function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,c=new Array(e);r<e;r++)c[r]=t[r];return c}r.d(e,"a",(function(){return c}))},"9bdd":function(t,e,r){var c=r("825a"),a=r("2a62");t.exports=function(t,e,r,o){try{return o?e(c(r)[0],r[1]):e(r)}catch(n){throw a(t),n}}},a630:function(t,e,r){var c=r("23e7"),a=r("4df4"),o=r("1c7e"),n=!o((function(t){Array.from(t)}));c({target:"Array",stat:!0,forced:n},{from:a})},b0c0:function(t,e,r){var c=r("83ab"),a=r("9bf2").f,o=Function.prototype,n=o.toString,i=/^\s*function ([^ (]*)/,s="name";c&&!(s in o)&&a(o,s,{configurable:!0,get:function(){try{return n.call(this).match(i)[1]}catch(t){return""}}})},d28b:function(t,e,r){var c=r("746f");c("iterator")},ed84:function(t,e,r){"use strict";r.r(e);r("caad"),r("2532");var c=r("7a23"),a={class:"bg-cover--01"},o={class:"nav-header"},n={"aria-label":"breadcrumb"},i={class:"breadcrumb"},s={class:"breadcrumb-item"},l=Object(c["createTextVNode"])("首頁"),d=Object(c["createVNode"])("li",{class:"breadcrumb-item text-light active","aria-current":"page"}," 商品列表 ",-1),u={id:"main",class:"container-fluid content bg-01 pb-4"},b=Object(c["createVNode"])("h2",{class:"pt-4 text-light"},"商品列表",-1),f={class:"mt-4 text-end text-light"},p=Object(c["createTextVNode"])(" 總共有 "),h={id:"productCount"},g=Object(c["createTextVNode"])(" 項商品 "),m={class:"row"},v={class:"\r\n            col-12 col-sm-3 col-md-2\r\n            position-relativd position-sm-fixed\r\n            me-auto\r\n          "},j={class:"list-group mb-3 mb-sm-0"},O={class:"col-12 col-sm-9 col-md-10 ms-auto"},y={class:"\r\n              row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4\r\n              g-3\r\n              list-unstyled\r\n            "},k={class:"card h-100"},N={class:"card-body"},w={class:"card-title"},V={class:"card-text"},C={key:0,class:"material-icons"},x={key:1,class:"material-icons"},S={key:0,class:"material-icons animate-spin"},A=Object(c["createTextVNode"])(" 加到購物車 ");function B(t,e,r,B,I,F){var M=Object(c["resolveComponent"])("Navbar"),P=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createBlock"])("div",a,[Object(c["createVNode"])("header",o,[Object(c["createVNode"])(M)]),Object(c["createVNode"])("nav",n,[Object(c["createVNode"])("ol",i,[Object(c["createVNode"])("li",s,[Object(c["createVNode"])(P,{class:"text-light",to:"/"},{default:Object(c["withCtx"])((function(){return[l]})),_:1})]),d])]),Object(c["createVNode"])("div",u,[b,Object(c["createVNode"])("p",f,[p,Object(c["createVNode"])("span",h,Object(c["toDisplayString"])(this.filterProducts.length),1),g]),Object(c["createVNode"])("div",m,[Object(c["createVNode"])("div",v,[Object(c["createVNode"])("div",j,[Object(c["createVNode"])("a",{href:"#",class:["list-group-item",{active:""===I.selectCategory}],"aria-current":"true",onClick:e[1]||(e[1]=Object(c["withModifiers"])((function(t){return I.selectCategory=""}),["prevent"]))},"所有商品",2),(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(I.categories,(function(t){return Object(c["openBlock"])(),Object(c["createBlock"])("a",{href:"#",key:t,class:["list-group-item list-group-item-action",{active:t===I.selectCategory}],"aria-current":"true",onClick:Object(c["withModifiers"])((function(e){return I.selectCategory=t}),["prevent"])},Object(c["toDisplayString"])(t),11,["onClick"])})),128))])]),Object(c["createVNode"])("div",O,[Object(c["createVNode"])("ul",y,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(F.filterProducts,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])("li",{key:e,class:"col"},[Object(c["createVNode"])("div",k,[Object(c["createVNode"])(P,{to:"/product/".concat(e.id),class:"text-decoration-none stretched-link h-100 card-link"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("img",{src:e.imageUrl,class:"card-img-top",alt:"item.title"},null,8,["src"]),Object(c["createVNode"])("div",N,[Object(c["createVNode"])("h5",w,Object(c["toDisplayString"])(e.title),1),Object(c["createVNode"])("p",V,Object(c["toDisplayString"])(e.price)+"NTD",1)])]})),_:2},1032,["to"]),Object(c["createVNode"])("a",{class:"card-icon-link",href:"#",onClick:Object(c["withModifiers"])((function(r){return t.addMyFavorite(e.id)}),["prevent"])},[I.myFavorite.includes(e.id)?(Object(c["openBlock"])(),Object(c["createBlock"])("span",C," star ")):(Object(c["openBlock"])(),Object(c["createBlock"])("span",x," star_border "))],8,["onClick"]),Object(c["createVNode"])("button",{onClick:function(t){return F.addCart(e.id)},type:"button",disabled:I.loadingStatus.loadingItem===e.id+1,class:"btn btn-primary btn-sm card-lick__button"},[I.loadingStatus.loadingItem===e.id+1?(Object(c["openBlock"])(),Object(c["createBlock"])("span",S," cached ")):Object(c["createCommentVNode"])("",!0),A],8,["onClick","disabled"])])])})),128))])])])])])}var I=r("6b75");function F(t){if(Array.isArray(t))return Object(I["a"])(t)}r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("a630");function M(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var P=r("06c5");function T(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(t){return F(t)||M(t)||Object(P["a"])(t)||T()}r("99af"),r("6062"),r("159b"),r("4de4"),r("ac1f"),r("466d");var D=r("d178"),$=r("9fe6"),E={props:["propsCategory"],data:function(){return{loadingStatus:{loadingItem:""},products:[],myFavorite:this.getLocalStorage()||[],categories:[],selectCategory:""}},mixins:[$["a"]],components:{Navbar:D["a"]},inject:["emitter"],methods:{showAlert:function(t){this.$swal(t.data.message)},getProducts:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("leolee","/products/all");this.$http.get(e).then((function(e){if(e.data.success){var r=e.data.products;t.products=r,t.getCatgories()}})).catch((function(t){return t}))},addCart:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.loadingStatus.loadingItem=t+1;var c={data:{product_id:t,qty:r}},a="".concat("https://vue3-course-api.hexschool.io/","api/").concat("leolee","/cart");this.$http.post(a,c).then((function(t){e.loadingStatus.loadingItem="",e.emitter.emit("update-cart"),e.showAlert(t)})).catch((function(t){console.log(t)}))},getCatgories:function(){var t=new Set;this.products.forEach((function(e){t.add(e.category)})),this.categories=_(t),this.selectCategory=this.propsCategory,this.emitter.emit("clearProps")}},computed:{filterProducts:function(){var t=this;return this.products.filter((function(e){return e.category.match(t.selectCategory)}))}},mounted:function(){this.getProducts(),this.topCategory=""}};E.render=B;e["default"]=E},fb6a:function(t,e,r){"use strict";var c=r("23e7"),a=r("861d"),o=r("e8b5"),n=r("23cb"),i=r("50c4"),s=r("fc6a"),l=r("8418"),d=r("b622"),u=r("1dde"),b=u("slice"),f=d("species"),p=[].slice,h=Math.max;c({target:"Array",proto:!0,forced:!b},{slice:function(t,e){var r,c,d,u=s(this),b=i(u.length),g=n(t,b),m=n(void 0===e?b:e,b);if(o(u)&&(r=u.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?a(r)&&(r=r[f],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return p.call(u,g,m);for(c=new(void 0===r?Array:r)(h(m-g,0)),d=0;g<m;g++,d++)g in u&&l(c,d,u[g]);return c.length=d,c}})}}]);
//# sourceMappingURL=chunk-d8030dba.37287330.js.map